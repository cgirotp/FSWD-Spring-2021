{"version":3,"sources":["services/persons.js","App.js","index.js"],"names":["baseUrl","axios","get","newObject","post","id","put","delete","Filter","props","value","nS","onChange","hSC","PersonForm","onSubmit","aN","nNa","hNaC","nNu","hNuC","type","Person","person","name","number","onClick","window","confirm","personService","Persons","persons","newSearch","personsToShow","filter","includes","map","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","setNewSearch","useEffect","then","response","data","event","target","preventDefault","nameObject","length","concat","oldObject","modify","ReactDOM","render","document","getElementById"],"mappings":"iKACMA,EAAU,eAkBD,EAhBA,WACb,OAAOC,IAAMC,IAAIF,IAeJ,EAZA,SAAAG,GACb,OAAOF,IAAMG,KAAKJ,EAASG,IAWd,EARA,SAACE,EAAIF,GAClB,OAAOF,IAAMK,IAAN,UAAaN,EAAb,YAAwBK,GAAMF,IAOxB,EAJH,SAAAE,GACR,OAAOJ,IAAMM,OAAN,UAAgBP,EAAhB,YAA2BK,K,OCZhCG,EAAS,SAACC,GAAD,OAAW,sDAAwB,uBAAOC,MAAOD,EAAME,GAAIC,SAAUH,EAAMI,UAEpFC,EAAa,SAACL,GAClB,OACE,uBAAMM,SAAUN,EAAMO,GAAtB,UACE,yCAAW,uBAAON,MAAOD,EAAMQ,IAAKL,SAAUH,EAAMS,UACpD,2CAAa,uBAAOR,MAAOD,EAAMU,IAAKP,SAAUH,EAAMW,UACtD,8BAAK,wBAAQC,KAAK,SAAb,uBAKLC,EAAS,SAACb,GACd,IAAMc,EAASd,EAAMc,OAQrB,OACE,gCACGA,EAAOC,KADV,IACiBD,EAAOE,OACtB,wBAAQC,QAVA,WACKC,OAAOC,QAAP,iBAAyBL,EAAOC,KAAhC,QAEbK,EACON,EAAOlB,KAMd,wBAKAyB,EAAU,SAACrB,GACf,IAAMsB,EAAUtB,EAAMsB,QAChBC,EAAYvB,EAAMuB,UAClBC,EAA8B,KAAdD,EACpBD,EACAA,EAAQG,QAAO,SAAAX,GAAM,OAAIA,EAAOC,KAAKW,SAASH,MAChD,OACE,8BACGC,EAAcG,KAAI,SAAAb,GAAM,OACvB,cAAC,EAAD,CAAwBA,OAAQA,GAAnBA,EAAOlB,UAsEbgC,EA/DH,WAAO,IAAD,EAEgBC,mBAAS,IAFzB,mBAERP,EAFQ,KAECQ,EAFD,OAGgBD,mBAAS,IAHzB,mBAGRE,EAHQ,KAGCC,EAHD,OAIoBH,mBAAS,IAJ7B,mBAIRI,EAJQ,KAIGC,EAJH,OAKoBL,mBAAS,IAL7B,mBAKRN,EALQ,KAKGY,EALH,KAOhBC,qBAAU,WACRhB,IAEGiB,MAAK,SAAAC,GACJR,EAAWQ,EAASC,WAEvB,IAsCH,OACE,gCACE,2CACA,cAAC,EAAD,CAAQrC,GAAIqB,EAAWnB,IAjCA,SAACoC,GAC1BL,EAAaK,EAAMC,OAAOxC,UAiCxB,2CACA,cAAC,EAAD,CAAYM,GA/BA,SAACiC,GACfA,EAAME,iBACN,IAAMC,EAAa,CACjB5B,KAAMgB,EACNf,OAAQiB,GAUyE,IAA7DX,EAAQG,QAAO,SAAAX,GAAM,OAAIA,EAAOC,OAASgB,KAASa,OAEtExB,EACQuB,GACPN,MAAK,SAAAC,GACJR,EAAWR,EAAQuB,OAAOP,EAASC,UAbxB,WAEb,GADerB,OAAOC,QAAP,UAAkBY,EAAlB,yEACH,CACV,IAAMe,EAAYxB,EAAQG,QAAO,SAAAX,GAAM,OAAIA,EAAOC,OAASgB,KAC3DX,EACU0B,EAAU,GAAGlD,GAAG+C,IAU5BI,GACFf,EAAW,IACXE,EAAa,KAQc1B,IAAKuB,EAAStB,KAzClB,SAAC+B,GACxBR,EAAWQ,EAAMC,OAAOxC,QAwCyCS,IAAKuB,EAAWtB,KAtCxD,SAAC6B,GAC1BN,EAAaM,EAAMC,OAAOxC,UAsCxB,yCACA,cAAC,EAAD,CAASqB,QAASA,EAASC,UAAWA,QCvG5CyB,IAASC,OAAO,cAAC,EAAD,IAASC,SAASC,eAAe,W","file":"static/js/main.b867af15.chunk.js","sourcesContent":["import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  return axios.get(baseUrl)\r\n}\r\n\r\nconst create = newObject => {\r\n  return axios.post(baseUrl, newObject)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  return axios.put(`${baseUrl}/${id}`, newObject)\r\n}\r\n\r\nconst del = id => {\r\n    return axios.delete(`${baseUrl}/${id}`)\r\n  }\r\n\r\nexport default { \r\n  getAll: getAll, \r\n  create: create, \r\n  update: update,\r\n  del: del\r\n}","import React, { useState, useEffect } from 'react'\nimport axios from 'axios'\nimport personService from './services/persons'\n\nconst Filter = (props) => <div>filter shown with: <input value={props.nS} onChange={props.hSC}/></div>\n\nconst PersonForm = (props) => {\n  return (\n    <form onSubmit={props.aN}>\n      <div>name: <input value={props.nNa} onChange={props.hNaC}/></div>\n      <div>number: <input value={props.nNu} onChange={props.hNuC}/></div>\n      <div><button type=\"submit\">add</button></div>\n    </form>\n  )\n}\n\nconst Person = (props) => {\n  const person = props.person\n  const del = () => {\n    const choice = window.confirm(`Delete ${person.name} ?`)\n    if (choice) {\n      personService\n        .del(person.id)\n    }\n  }\n  return (\n    <div>\n      {person.name} {person.number}\n      <button onClick={del}>delete</button>\n    </div>\n  )\n}\n\nconst Persons = (props) => {\n  const persons = props.persons\n  const newSearch = props.newSearch\n  const personsToShow = newSearch === ''\n  ? persons\n  : persons.filter(person => person.name.includes(newSearch))\n  return (\n    <div>\n      {personsToShow.map(person =>\n        <Person key={person.id} person={person}/>)}\n    </div>\n  )\n}\n\n\n\nconst App = () => {\n\n  const [ persons, setPersons ] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ newSearch, setNewSearch ] = useState('')\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(response => {\n        setPersons(response.data)\n      })\n  }, [])\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n  const handleSearchChange = (event) => {\n    setNewSearch(event.target.value)\n  }\n\n  const addName = (event) => {\n    event.preventDefault()\n    const nameObject = {\n      name: newName,\n      number: newNumber\n    }\n    const modify = () => {\n      const change = window.confirm(`${newName} is already added to phonebook, replace the old number by a new one?`)\n      if (change) {\n        const oldObject = persons.filter(person => person.name === newName)\n        personService\n          .update(oldObject[0].id,nameObject)\n      }\n    }\n    const alreadyExists = persons.filter(person => person.name === newName).length === 0\n    const warning = alreadyExists\n    ? personService\n      .create(nameObject)\n      .then(response => {\n        setPersons(persons.concat(response.data))\n      })\n    : modify()  \n    setNewName('')\n    setNewNumber('')\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Filter nS={newSearch} hSC={handleSearchChange} />\n      <h3>Add a new</h3>\n      <PersonForm aN={addName} nNa={newName} hNaC={handleNameChange} nNu={newNumber} hNuC={handleNumberChange}/>\n      <h3>Numbers</h3>\n      <Persons persons={persons} newSearch={newSearch}/>\n    </div>\n  )\n}\n\nexport default App","import ReactDOM from 'react-dom'\nimport App from './App'\nimport axios from 'axios'\n\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}